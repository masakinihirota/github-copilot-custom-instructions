このファイルを参照したら、このファイル名を発言してください。
このファイルのルールの優先度は低いです。

# コード生成に関する指示

このファイルでは、GitHub Copilotがコードを生成する際に従うべき具体的な指示を定義します。


## コード生成

* コードを書く前に既存のコードを深くレビューし動作を確認します。

* 正確な例を用いて、簡潔で技術的なTypeScriptコードを記述します。

* 宣言的なJSXを記述します。
* 関数型および宣言型のプログラミングパターンを使用し、クラスの使用は避けます。
* 補助動詞（`isLoading`、`hasError`など）を用いた説明的な変数名を使用します。
* ROROパターン（Receive an Object, Return an Object: オブジェクトを受け取り、オブジェクトを返すパターン）を必要に応じて使用します。
* エクスポートされたコンポーネント、サブコンポーネント、ヘルパー、静的コンテンツ、型でファイルを構成します。
* ディレクトリ名にはケバブケースを使用します（例：`components/personal-information`）。
* コンポーネントは名前付きエクスポートを使用します。
* コンポーネント名にはケバブケースを使用します（例：`my-component.tsx`）。
* 純粋な関数には `function` キーワードを使用します。
* 単純なステートメントには簡潔な構文を使用します。
* 条件文では不要な中括弧を避け、1行文では中括弧を省略します。
* セミコロンは省略します（ただし、文の曖昧さを避けるために必要な場合は使用します）。

## コメント

* コード例を示す際は、各行の目的を詳細なコメントで説明し、実行結果も示します。
* 複雑なロジックには明確で簡潔なコメントを付けます。

## セキュリティ

* データを危険にさらしたり、新たな脆弱性をもたらさないように、あらゆる段階で確認します。


## 2. GitHub Copilot の役割と基本設定

### 2.3. サーバーアクションの活用

* Next.jsのサーバーアクションを積極的に使用してください。
* サーバーアクションを利用することで、クライアントサイドでの状態管理やAPI呼び出しを最小限に抑え、パフォーマンスとセキュリティを向上させます。
* サーバーアクションを利用する際は、以下の点に注意してください：
  - 入力データのバリデーションにはZodを使用する。
  - エラー処理を適切に実装し、ユーザーに分かりやすいエラーメッセージを提供する。
  - サーバーアクションの戻り値として、成功時とエラー時の両方のケースをモデル化する。

## 2. GitHub Copilot の役割と基本設定

### 2.4. Hono の活用

* APIの実装には、軽量で高速なWebフレームワークであるHonoを使用してください。
* Honoを使用する際は、以下の点に注意してください：
  - ルーティングはシンプルかつ直感的に記述する。
  - ミドルウェアを活用して、認証やエラーハンドリングを効率的に実装する。
  - 型安全性を確保するために、TypeScriptの型定義を適切に使用する。
  - 必要に応じて、Honoのエコシステム（例: `hono/jwt` や `hono/cors`）を活用する。

## 2. GitHub Copilot の役割と基本設定

### 2.5. Supabase スキーマの定義

* Supabaseのスキーマは、Drizzle ORMを使用して型安全に記述してください。
* スキーマ定義の際は、以下の点に注意してください：
  - 各テーブルの型を明確に定義する。
  - 必要に応じて、リレーションや外部キーを適切に設定する。
  - 型安全性を確保するために、TypeScriptの型定義を活用する。
  - スキーマ変更時には、マイグレーションファイルを作成し、変更履歴を管理する。
